<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      layout:decorate="~{layouts/layout_basic}">
<head>
    <meta charset="UTF-8">
    <title>Office ERP - Í∏âÏó¨Í¥ÄÎ¶¨</title>
    <link rel="stylesheet" th:href="@{/assets/css/main.css}">
    <link rel="stylesheet" th:href="@{/assets/css/yj/salaryListAdmin.css}">
</head>
<body>
<div layout:fragment="content" class="page-main">
 <div class="page-main">
        <div class="dashboard-wrapper">
        <!-- ÏÇ¨Ïù¥ÎìúÎ∞î -->
        <th:block th:replace="fragments/nav_sidebar :: sidebar"></th:block>
          <!-- Î©îÏù∏ ÏΩòÌÖêÏ∏† -->
            <div class="main-content">
                <div class="page-header">
                    <h1 class="page-title">Í∏âÏó¨ Í¥ÄÎ¶¨</h1>
                </div>
                <div class="container">
                    <!-- üîç Ï°∞Ìöå Ï°∞Í±¥ -->
                    <section class="search-section">
                        <form class="search-form" action="/salary/search" method="get">
                            <label>
                                Í∏âÏó¨Ïõî:
                                <input type="month" name="salaryMonth" value="2025-07">
                            </label>
                            <label>
                                ÏßÅÏõêÎ™Ö:
                                <input type="text" name="employeeName" placeholder="ÏßÅÏõêÎ™Ö ÏûÖÎ†•">
                            </label>
                            <button type="submit" class="search-btn">Í≤ÄÏÉâ</button>
                        </form>
                    </section>

                    <!-- üìã Í∏âÏó¨ ÌÖåÏù¥Î∏î -->
                    <section class="salary-table-section">
                        <table class="salary-table">
                            <thead>
                                <tr>
                                    <th><input type="checkbox"></th>
                                    <th>Í∏âÏó¨Ïõî</th>
                                    <th>ÏßÅÏõêÎ≤àÌò∏</th>
                                    <th>Ïù¥Î¶Ñ</th>
                                    <th>Í∏∞Î≥∏Í∏â</th>
                                    <th>ÏÉÅÏó¨Í∏à</th>
                                    <th>Í≥µÏ†úÏï°</th>
                                    <th>Ïã§ÏßÄÍ∏âÏï°</th>
                                    <th>ÏÉÅÌÉú</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><input type="checkbox" value="1"></td>
                                    <td>2025-07</td>
                                    <td>E001</td>
                                    <td>ÌôçÍ∏∏Îèô</td>
                                    <td>3,000,000</td>
                                    <td>500,000</td>
                                    <td>200,000</td>
                                    <td>3,300,000</td>
                                    <td><span class="status-complete">Îì±Î°ùÏôÑÎ£å</span></td>
                                </tr>
                                <tr>
                                    <td><input type="checkbox" value="2"></td>
                                    <td>2025-07</td>
                                    <td>E002</td>
                                    <td>ÍπÄÏòÅÌù¨</td>
                                    <td>2,800,000</td>
                                    <td>400,000</td>
                                    <td>180,000</td>
                                    <td>3,020,000</td>
                                    <td><span class="status-complete">Îì±Î°ùÏôÑÎ£å</span></td>
                                </tr>
                                <tr>
                                    <td><input type="checkbox" value="3"></td>
                                    <td>2025-07</td>
                                    <td>E003</td>
                                    <td>Î∞ïÎØºÏàò</td>
                                    <td>3,200,000</td>
                                    <td>600,000</td>
                                    <td>220,000</td>
                                    <td>3,580,000</td>
                                    <td><span class="status-pending">Ï≤òÎ¶¨Ï§ë</span></td>
                                </tr>
                                <tr>
                                    <td><input type="checkbox" value="4"></td>
                                    <td>2025-07</td>
                                    <td>E004</td>
                                    <td>Ïù¥ÏßÄÏùÄ</td>
                                    <td>2,600,000</td>
                                    <td>350,000</td>
                                    <td>160,000</td>
                                    <td>2,790,000</td>
                                    <td><span class="status-complete">Îì±Î°ùÏôÑÎ£å</span></td>
                                </tr>
                                <tr>
                                    <td><input type="checkbox" value="5"></td>
                                    <td>2025-07</td>
                                    <td>E005</td>
                                    <td>ÏµúÎèôÏö±</td>
                                    <td>3,500,000</td>
                                    <td>700,000</td>
                                    <td>250,000</td>
                                    <td>3,950,000</td>
                                    <td><span class="status-complete">Îì±Î°ùÏôÑÎ£å</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </section>

                    <!-- üîò Í∏∞Îä• Î≤ÑÌäº -->
                    <div class="action-buttons">
                    <div sec:authorize="hasRole('ROLE_HR')">
                        <button class="btn" onclick="location.href='/personnel/salaryForm'">
                            ‚ûï Í∏âÏó¨ Îì±Î°ù
                        </button>
                     </div>
                        <button class="btn btn-success">
                            üìÑ Î™ÖÏÑ∏ÏÑú ÏÉùÏÑ±
                        </button>
                        <button class="btn btn-secondary">
                            üñ®Ô∏è Î™ÖÏÑ∏ÏÑú Ï∂úÎ†•
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div layout:fragment="pageScript"></div>
 <script>
        // Ï†ÑÏ≤¥ ÏÑ†ÌÉù Ï≤¥ÌÅ¨Î∞ïÏä§ Í∏∞Îä•
        document.addEventListener('DOMContentLoaded', function() {
            const headerCheckbox = document.querySelector('thead input[type="checkbox"]');
            const rowCheckboxes = document.querySelectorAll('tbody input[type="checkbox"]');
            
            headerCheckbox.addEventListener('change', function() {
                rowCheckboxes.forEach(checkbox => {
                    checkbox.checked = this.checked;
                });
            });
            
            // Í∞úÎ≥Ñ Ï≤¥ÌÅ¨Î∞ïÏä§ ÏÉÅÌÉú Î≥ÄÍ≤Ω Ïãú Ìó§Îçî Ï≤¥ÌÅ¨Î∞ïÏä§ ÏÉÅÌÉú ÏóÖÎç∞Ïù¥Ìä∏
            rowCheckboxes.forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    const checkedCount = document.querySelectorAll('tbody input[type="checkbox"]:checked').length;
                    headerCheckbox.checked = checkedCount === rowCheckboxes.length;
                    headerCheckbox.indeterminate = checkedCount > 0 && checkedCount < rowCheckboxes.length;
                });
            });
        });
    </script>
</body>
</html>
